<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <meta content="width=1300, initial-scale=1 user-scalable=yes" name="viewport" />
    <meta content="行者无疆，始于足下——行走，思考，在路上" name="description" />
    <meta content="web development, programming, typeface, typography" name="keywords" />
    <meta content="Xiao Hanyu" name="author" />
    <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/manifest.json" rel="manifest" />
    <link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon" />
    <meta content="#ffffff" name="theme-color" />
    <title>OpenStack 开发杂谈</title>
    <link href="/static/dist/semantic-ui/semantic.min.css" rel="stylesheet" type="text/css" />
    <link href="/static/dist/fonts.css/fonts.css" rel="stylesheet" type="text/css" />
    <link href="/static/stylesheet/default.css" rel="stylesheet" type="text/css" />
    <link href="/static/stylesheet/pandoc-code-highlight.css" rel="stylesheet" type="text/css" />
    <script src="/static/dist/jquery/jquery.min.js"></script>
  </head>
  <body lang="cn">
    <div data-quotes-cn="[{&quot;content&quot;:[&quot;天上星，亮晶晶，永灿烂，长安宁。&quot;,&quot;湖边竹，盈盈绿，报平安，多喜乐。&quot;],&quot;author&quot;:&quot;金庸&quot;,&quot;from&quot;:&quot;天龙八部&quot;},{&quot;content&quot;:[&quot;死亡是唯一一座永远亮着的灯塔，不管你向哪里航行，最终都得转向它指引的方向。一切都会逝去，只有死神永生。&quot;],&quot;author&quot;:&quot;刘慈欣&quot;,&quot;from&quot;:&quot;地球往事&quot;},{&quot;content&quot;:[&quot;我终于明白了为什么 Einstein 喜爱看守灯塔的职业，因为那样他可以在自己的心灵中建立一片宁静而自由的天空。&quot;],&quot;author&quot;:&quot;卢昌海&quot;,&quot;from&quot;:&quot;&lt;a href=\&quot;http://www.changhai.org\&quot;&gt;http://www.changhai.org&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;我宁愿游荡在你身边&quot;,&quot;做七天的野鬼&quot;,&quot;跟随你&quot;,&quot;就算落进最黑暗的地方&quot;,&quot;我的爱&quot;,&quot;也不会让我成为永远的孤魂&quot;],&quot;author&quot;:&quot;李安&quot;,&quot;from&quot;:&quot;卧虎藏龙&quot;},{&quot;content&quot;:[&quot;在中国，任何超脱飞扬的思想都会砰然坠地——现实的引力实在是太沉重了。&quot;],&quot;author&quot;:&quot;刘慈欣&quot;,&quot;from&quot;:&quot;地球往事&quot;},{&quot;content&quot;:[&quot;天下唯庸人无咎无誉。&quot;],&quot;author&quot;:&quot;梁启超&quot;,&quot;from&quot;:&quot;李鸿章传&quot;}]" data-quotes-en="[{&quot;content&quot;:[&quot;Pascal is for building pyramids—imposing, breathtaking, static structures built by armies pushing heavy blocks into place. Lisp is for building organisms—imposing, breathtaking, dynamic structures built by squads fitting fluctuating myriads of simpler organisms into place.&quot;],&quot;author&quot;:&quot;Alan J. Perlis&quot;,&quot;from&quot;:&quot;foreword for &lt;a href=\&quot;http://mitpress.mit.edu/sicp/\&quot;&gt;SICP&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;When you don&#39;t create things, you become defined by your tastes rather than ability. Your tastes only narrow &amp; exclude people. So create.&quot;],&quot;author&quot;:&quot;why the luck stiff&quot;,&quot;from&quot;:&quot;&lt;a href=\&quot;http://whymirror.github.io/\&quot;&gt;http://whymirror.github.io/&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;In theory, there is no difference between theory and practice. But, in practice, there is.&quot;],&quot;author&quot;:&quot;Jan L. A. van de Snepscheut&quot;,&quot;from&quot;:&quot;&lt;a href=\&quot;http://en.wikiquote.org/wiki/Jan_L._A._van_de_Snepscheut\&quot;&gt;Wikipedia&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;The future has already arrived. It is just not evenly distributed yet.&quot;],&quot;author&quot;:&quot;William Gibson&quot;,&quot;from&quot;:&quot;&lt;a href=\&quot;https://en.wikiquote.org/wiki/William_Gibson\&quot;&gt;Wikiquote&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;There are many ways of trying to understand programs. People often rely too much on one way, which is called \&quot;debugging\&quot; and consists of running a partly-understood program to see if it does what you expected. Another way, which ML advocates, is to install some means of understanding in the very programs themselves.&quot;],&quot;author&quot;:&quot;Robin Milner&quot;,&quot;from&quot;:&quot;foreword for &lt;a href=\&quot;http://www.ccs.neu.edu/home/matthias/BTML/\&quot;&gt;The Little MLer&lt;/a&gt;&quot;}]" id="quotes" style="display: none"></div>
    <div id="content">
      <nav class="ui borderless menu" lang="en">
        <div class="ui container">
          <a class="item" href="/"><img src="/static/image/gravatar-black.svg" /></a><a class="item" href="/archive">Archive</a><a class="item desktop-only" href="/categories">Categories</a><a class="item desktop-only" href="/tags">Tags</a><a class="item" href="/about">About</a>
          <div class="right menu">
            <div class="item desktop-only">
              <form action="https://www.google.com/search" class="ui form" method="get" target="_blank">
                <input name="q" type="hidden" value="site:xiaohanyu.me" />
                <div class="ui transparent left icon input">
                  <input name="q" placeholder="Search..." type="text" /><i class="search icon"></i>
                </div>
              </form>
            </div>
            <a class="item" href="https://github.com/xiaohanyu"><i class="github icon"></i></a><a class="item desktop-only" href="/atom.xml"><i class="feed icon"></i></a>
          </div>
        </div>
      </nav><div class="ui stackable container">
        <div class="ui very padded segment article">
          <article class="ui stackable divided grid">
            <header class="row article-head">
              <div class="column">
                <h1 class="ui header">
                  OpenStack 开发杂谈
                </h1>
                <div class="ui divider"></div>
              </div>
            </header>
            <div class="row article-body">
              <section class="twelve wide column">
                <p>去年 12 月份的时候我曾经给自己写了一份 “OpenStack 开发基础知识” 书单，贴在墙上，书单大概如下：</p>
                <ul>
                <li>网络基础：
                <ul>
                <li><a href="http://book.douban.com/subject/4793807/"><del>Foundations of Python Network Programming</del></a></li>
                <li><a href="http://book.douban.com/subject/2970300/"><del>计算机网络</del></a></li>
                <li><a href="http://book.douban.com/subject/1440226/"><del>HTTP</del></a></li>
                <li><a href="http://book.douban.com/subject/10531427/">计算机网络教程</a></li>
                <li><a href="http://book.douban.com/subject/1095214/">TCP/IP 详解</a></li>
                <li><a href="http://book.douban.com/subject/2016013/"><del>Internetworking</del> With TCP/IP</a></li>
                </ul></li>
                <li>语言基础：
                <ul>
                <li><a href="http://book.douban.com/subject/4249385/"><del>Pro Python</del></a></li>
                <li><a href="http://book.douban.com/subject/4086938/">Metaprogramming Ruby</a></li>
                </ul></li>
                <li>JavaScript:
                <ul>
                <li><a href="http://book.douban.com/subject/1869705/"><del>JavaScript</del> 高级程序设计</a></li>
                <li><a href="http://book.douban.com/subject/3012828/">JavaScript 语言精髓与编程实践</a></li>
                </ul></li>
                <li>Web Design
                <ul>
                <li><a href="http://book.douban.com/subject/10448952/"><del>The Definitive Guide</del> to HTML5</a></li>
                <li><a href="http://book.douban.com/subject/1937913/">无懈可击的 Web 设计</a></li>
                </ul></li>
                <li><a href="http://book.douban.com/subject/6000169/">+Rabb+itMQ in Action</a></li>
                <li>Database
                <ul>
                <li><a href="http://book.douban.com/subject/3354490/"><del>MySQL 必知必会</del></a></li>
                <li><a href="http://book.douban.com/subject/3182110/">数据库系统基础教程</a></li>
                <li><a href="http://book.douban.com/subject/1173549/">数据库设计教程</a></li>
                </ul></li>
                <li>Django
                <ul>
                <li><a href="http://book.douban.com/subject/3617254/"><del>The Definitive Guide to</del> Django</a></li>
                <li><a href="http://book.douban.com/subject/3086812/">Pro Django</a></li>
                </ul></li>
                </ul>
                <p>读书进度 = 书名中划线部分的长度/书名的长度。之所以有这份书单，是因为在前面几个月的开发中，我发现自己的基础知识薄弱，远远不能满足 OpenStack 开发的需要。虽然自己已经能够按照公司的基本要求，照猫画虎地开发出几个能用的所谓 Feature，但是我内心明白，自己的能力上尚不足以透彻理解 OpenStack 代码<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>。</p>
                <p>我认为自己还算是一个比较努力的人，并且自认为对自己目前所从事的行业还是有着满心的热爱和期待，期待自己能做出一些有用的产品，留下一些真正有用的能改善人们生活的东西。这个宏大的愿望映射到眼前，就是努力使自己成为一个合格的 Full-Stack 类型的 Web 开发工程师。而进一步将眼前目标付诸行动，就是上面的书单了。我原本定的时间是 3–5 个月左右，不过现在看来还是太狂妄太浮躁了。客观上是自己要工作，时间不完全都是自己的；主观上则是自己“深度优先，随性而为”的阅读习惯常常会不自主的打乱原本订好的读书计划。比方说我在读 “Pro Python” 的时候为了搞清楚细节会去读 “<a href="http://book.douban.com/subject/3117898/">Python 源码剖析</a>”，会去尝试理解 Python 的 <a href="http://python3.blogspot.com/">整个历史 </a>；在读 “HTTP” 的时候为了理解 <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">REST</a>，会去读《<a href="http://book.douban.com/subject/4791069/">REST in Practice</a>》；而我在尝试理解 Python <a href="http://en.wikipedia.org/wiki/Test-driven_development">TDD</a> 的时候会把 Ruby 中关于 <a href="http://cukes.info/">Cubumber</a> 的书加入阅读计划。这或许不是一个良好的阅读习惯，但这能保持我的兴趣，这就够了。</p>
                <p>我不是一个 Top 的工程师，至少目前不是——Top 的工程师不会像我一样还在费力的学习理解 REST/TDD 这些概念性的东西。我知道 Top 的工程师在哪里<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>。这类人天赋异禀，并且在很早的时候就接触计算机。在你还在骑着自行车围着院子绕圈的时候他们已经开始理解算法和数据结构，在你刚刚写出“hello world”的时候他们已经能写出成型的软件作品，在你毕业之际为找工作焦头烂额的时候，他们已经受过了 1 万小时的训练，有更好的机会和最聪明的人合作更快的提高自己。这个博客基本上忠实记录了我正式开始认真学习计算机的全部历程。四年来我几乎做过各种各样的东西，Windows Mobile 开发，Java SSH（已经忘光光 ），OpenGL 程序，Hadoop，Python/FFmpeg 写的转码系统等等，很杂，也很浅。但我一直坚持一个方向，就是拥抱开源，先是尝试学习基础知识，用好 Linux/Emacs 这类基本工具，毕业工作后开始去尝试读一些开源代码，提一些无关痛痒的 patch 试图接近开源，这一年来又开始尝试理解 OpenStack，并真正的提交了一些 patch。我不敢评价 OpenStack 的设计是否优秀，事实上我还没有这个能力去完全理解它，更妄论评价了。但是 OpenStack 的开发确实让我学到了很多东西，我开始理解了 TDD，开始逐理解了 REST 和 Web Service，开始逐渐理解作为工程语言而不是脚本语言的 Python，开始理解 Message Queue。而我也通过自己的努力，让基于 Jenkins/Gerrit 的自动化测试部署的全套流程在公司运转了起来。</p>
                <p>两年前信心满满刚来北京的时候，我从未想过自己会那么快的离开百度<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a>，一年前开始寻找新的工作机会的时候，我完全没有听过 OpenStack 这个词。当初一心坚持离开学校是为了远离校园里学习的束缚，现在走向工作岗位又会感慨感叹时间的宝贵和校园里相对的自由。说白了，我是一个贪心的实用主义者，胸无大志，从来不会想五年以后的事情，学校里面不想听无聊的课程，就天南海北山山水水的疯跑，哪怕一学期挂科五门依然无所畏惧不懂屈服；工作以后顶撞上司就来个偷得浮生半年闲，躲进小楼成一统，管他春夏与秋冬，云卷云舒花开花落——但为了生活还是要出来找工作。</p>
                <p>貌似扯的有些远了……最后回到本文的正题吧，OpenStack的开发。上个星期做了两个东西，第一是做了个 OpenStack 代码的国内镜像，方便教育网内学生党<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a>，地址是：</p>
                <ul>
                <li><a href="http://git.oschina.net/openstack" class="uri">http://git.oschina.net/openstack</a></li>
                <li><a href="http://git.oschina.net/openstack-dev" class="uri">http://git.oschina.net/openstack-dev</a></li>
                </ul>
                <p>第二是基于 Vagrant 做了个 OpenStack 的开发环境，地址是：</p>
                <ul>
                <li><a href="https://github.com/xiaohanyu/vagrant-hackerbox" class="uri">https://github.com/xiaohanyu/vagrant-hackerbox</a></li>
                <li><a href="https://github.com/xiaohanyu/vagrant-ansible-devstack" class="uri">https://github.com/xiaohanyu/vagrant-ansible-devstack</a></li>
                </ul>
                <p>好了，吹牛到此结束，各位好梦晚安。</p>
                <section class="footnotes">
                <hr />
                <ol>
                <li id="fn1"><p>比如我至今依旧没完彻底理解 OpenStack 中基于 <a href="http://www.sqlalchemy.org/">SQLAlchemy</a> ORM 的数据模型，基于 iptables/openvswitch 等的底层网络原理，更妄想理解 KVM/Xen/内核这类 CS 工程领域真正“高富帅”的东西了。事实上，如果没有扎实的数据库/网络/操作系统知识，要彻底理解这些东西是很难的。<a href="#fnref1">↩</a></p></li>
                <li id="fn2"><p>比如<a href="http://tianyicui.com/">这里</a>，<a href="http://blog.peakji.com/">这里</a>和<a href="https://www.byvoid.com/">这里</a>。<a href="#fnref2">↩</a></p></li>
                <li id="fn3"><p>也从未想到过自己的一篇文章能引起那么大的争议。<a href="#fnref3">↩</a></p></li>
                <li id="fn4"><p>顺便吐槽下北大的校园网，30元 /80 小时，50元 /160 小时，90元不限时包月，超时流量 1 元 /MB，这价格都快赶上北京正常的联通宽带了。而且速度那么慢 (github clone 20k/s)，北京联通现在可是号称 20M 光纤入户的。这就是世界一流大学的校园网，可笑。<a href="#fnref4">↩</a></p></li>
                </ol>
                </section>
                
                <div class="ui divider"></div>
                <div class="ui small one item menu">
                  <a class="item" id="show-disqus-comments" onclick="show_disqus_comments()" title="Fuck GFW, disqus.com has been blocked in China.">Show Disqus Comments</a>
                </div>
                <div id="disqus_thread"></div>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
              </section>
              <aside class="four wide column">
                <div class="ui small header">
                  License
                </div>
                <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="cc-license" src="/static/image/cc_byncsa.flat.guokr.svg" /></a>
                <div class="ui small header">
                  Committed
                </div>
                <date>2013-07-07</date>
                <div class="ui small header">
                  Updated
                </div>
                <date>2017-04-29</date>
                <div class="ui small header">
                  Category
                </div>
                <div class="ui list">
                  <div class="item">
                    <a href="/categories#CloudComputing">
                      <div class="ui label">
                        CloudComputing<sup>3</sup>
                      </div>
                    </a>
                  </div>
                </div>
                <div class="ui small header">
                  Tags
                </div>
                <div class="ui list">
                  <div class="item">
                    <a href="/tags#OpenStack">
                      <div class="ui label">
                        OpenStack<sup>1</sup>
                      </div>
                    </a>
                  </div>
                </div>
                <div class="ui small header">
                  Meta
                </div>
                <p>
                  Imported from <a href="http://cnlox.is-programmer.com/posts/39883.html">is-programmer</a>.
                </p>
                <div class="ui small header">
                  Links
                </div>
                <div class="ui small two item menu">
                  <a class="item" title="轻松一刻：电影条形码转换脚本" href="/posts/2013-02-03-just-for-fun-moviebarcode-shell-script/">Prev</a><a class="item" title="Announcing oh-my-emacs v0.1" href="/posts/2013-09-14-announcing-oh-my-emacs-v0.2/">Next</a>
                </div>
              </aside>
            </div>
          </article>
        </div>
      </div>
    </div>
    <div id="footer">
      <footer class="ui inverted vertical center aligned footer segment">
        <div class="ui container">
          <p>
            Copyright © 2009–2018 by Xiao Hanyu — Powered by Emacs, Git, Pandoc, Ruby and Nanoc.
          </p>
        </div>
      </footer>
      <script src="/static/dist/semantic-ui/semantic.min.js"></script>
      <script src="/static/javascript/ga.js"></script>
      <script src="/static/javascript/default.js"></script>
    </div>
  </body>
</html>