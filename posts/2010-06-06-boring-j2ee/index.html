<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <meta content="width=1300, initial-scale=1 user-scalable=yes" name="viewport" />
    <meta content="行者无疆，始于足下——行走，思考，在路上" name="description" />
    <meta content="web development, programming, typeface, typography" name="keywords" />
    <meta content="Xiao Hanyu" name="author" />
    <link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/manifest.json" rel="manifest" />
    <link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon" />
    <meta content="#ffffff" name="theme-color" />
    <title>纠结的 J2EE 之旅</title>
    <link href="/static/dist/semantic-ui/semantic.min.css" rel="stylesheet" type="text/css" />
    <link href="/static/dist/fonts.css/fonts.css" rel="stylesheet" type="text/css" />
    <link href="/static/stylesheet/default.css" rel="stylesheet" type="text/css" />
    <link href="/static/stylesheet/pandoc-code-highlight.css" rel="stylesheet" type="text/css" />
    <script src="/static/dist/jquery/jquery.min.js"></script>
  </head>
  <body lang="cn">
    <div data-quotes-cn="[{&quot;content&quot;:[&quot;天上星，亮晶晶，永灿烂，长安宁。&quot;,&quot;湖边竹，盈盈绿，报平安，多喜乐。&quot;],&quot;author&quot;:&quot;金庸&quot;,&quot;from&quot;:&quot;天龙八部&quot;},{&quot;content&quot;:[&quot;死亡是唯一一座永远亮着的灯塔，不管你向哪里航行，最终都得转向它指引的方向。一切都会逝去，只有死神永生。&quot;],&quot;author&quot;:&quot;刘慈欣&quot;,&quot;from&quot;:&quot;地球往事&quot;},{&quot;content&quot;:[&quot;我终于明白了为什么 Einstein 喜爱看守灯塔的职业，因为那样他可以在自己的心灵中建立一片宁静而自由的天空。&quot;],&quot;author&quot;:&quot;卢昌海&quot;,&quot;from&quot;:&quot;&lt;a href=\&quot;http://www.changhai.org\&quot;&gt;http://www.changhai.org&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;我宁愿游荡在你身边&quot;,&quot;做七天的野鬼&quot;,&quot;跟随你&quot;,&quot;就算落进最黑暗的地方&quot;,&quot;我的爱&quot;,&quot;也不会让我成为永远的孤魂&quot;],&quot;author&quot;:&quot;李安&quot;,&quot;from&quot;:&quot;卧虎藏龙&quot;},{&quot;content&quot;:[&quot;在中国，任何超脱飞扬的思想都会砰然坠地——现实的引力实在是太沉重了。&quot;],&quot;author&quot;:&quot;刘慈欣&quot;,&quot;from&quot;:&quot;地球往事&quot;},{&quot;content&quot;:[&quot;天下唯庸人无咎无誉。&quot;],&quot;author&quot;:&quot;梁启超&quot;,&quot;from&quot;:&quot;李鸿章传&quot;},{&quot;content&quot;:[&quot;沧海横流，血肉横飞，方显出英雄本色，当年万源保卫战，敌军在不到 30 华里的地面上，使用兵力竞达九十个团，数量十倍于红军，谁能记清当时打了多少次恶仗？每天要牺牲多少人？他却是不多的幸存者之一。而眼前，一切都沉寂了，流逝了。那惊心动魄的枪声，那撕肝裂肺的呐喊，那悲痛欲绝的咒骂和呻吟，那狼藉遍野的残肢断骨和头颅，那千疮百孔仍迎风飘扬的军旗；都沉寂了，流逝了，无影无踪了，犹如做了一场梦……&quot;],&quot;author&quot;:&quot;都梁&quot;,&quot;from&quot;:&quot;亮剑&quot;}]" data-quotes-en="[{&quot;content&quot;:[&quot;Pascal is for building pyramids—imposing, breathtaking, static structures built by armies pushing heavy blocks into place. Lisp is for building organisms—imposing, breathtaking, dynamic structures built by squads fitting fluctuating myriads of simpler organisms into place.&quot;],&quot;author&quot;:&quot;Alan J. Perlis&quot;,&quot;from&quot;:&quot;foreword for &lt;a href=\&quot;http://mitpress.mit.edu/sicp/\&quot;&gt;SICP&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;When you don&#39;t create things, you become defined by your tastes rather than ability. Your tastes only narrow &amp; exclude people. So create.&quot;],&quot;author&quot;:&quot;why the luck stiff&quot;,&quot;from&quot;:&quot;&lt;a href=\&quot;http://whymirror.github.io/\&quot;&gt;http://whymirror.github.io/&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;In theory, there is no difference between theory and practice. But, in practice, there is.&quot;],&quot;author&quot;:&quot;Jan L. A. van de Snepscheut&quot;,&quot;from&quot;:&quot;&lt;a href=\&quot;http://en.wikiquote.org/wiki/Jan_L._A._van_de_Snepscheut\&quot;&gt;Wikipedia&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;The future has already arrived. It is just not evenly distributed yet.&quot;],&quot;author&quot;:&quot;William Gibson&quot;,&quot;from&quot;:&quot;&lt;a href=\&quot;https://en.wikiquote.org/wiki/William_Gibson\&quot;&gt;Wikiquote&lt;/a&gt;&quot;},{&quot;content&quot;:[&quot;There are many ways of trying to understand programs. People often rely too much on one way, which is called \&quot;debugging\&quot; and consists of running a partly-understood program to see if it does what you expected. Another way, which ML advocates, is to install some means of understanding in the very programs themselves.&quot;],&quot;author&quot;:&quot;Robin Milner&quot;,&quot;from&quot;:&quot;foreword for &lt;a href=\&quot;http://www.ccs.neu.edu/home/matthias/BTML/\&quot;&gt;The Little MLer&lt;/a&gt;&quot;}]" id="quotes" style="display: none"></div>
    <div id="content">
      <nav class="ui borderless menu" lang="en">
        <div class="ui container">
          <a class="item" href="/"><img src="/static/image/gravatar-black.svg" /></a><a class="item" href="/archive">Archive</a><a class="item desktop-only" href="/categories">Categories</a><a class="item desktop-only" href="/tags">Tags</a><a class="item" href="/about">About</a>
          <div class="right menu">
            <div class="item desktop-only">
              <form action="https://www.google.com/search" class="ui form" method="get" target="_blank">
                <input name="q" type="hidden" value="site:xiaohanyu.me" />
                <div class="ui transparent left icon input">
                  <input name="q" placeholder="Search..." type="text" /><i class="search icon"></i>
                </div>
              </form>
            </div>
            <a class="item" href="https://github.com/xiaohanyu"><i class="github icon"></i></a><a class="item desktop-only" href="/atom.xml"><i class="feed icon"></i></a>
          </div>
        </div>
      </nav><div class="ui stackable container">
  <div class="ui very padded segment article">
    <article class="ui stackable divided grid"><header class="row article-head">
  <div class="column">
    <h1 class="ui header">
      纠结的 J2EE 之旅
    </h1>
    <div class="ui divider"></div>
  </div>
</header>
<div class="row article-body">
  <section class="twelve wide column"><p>还没启程，就遇到了诸多意想不到的问题……弄得我焦头烂额，极度郁闷。</p>
<p>Web 开发本身就是的部署本身就是一件极其纠结复杂的事情，在正是进入 Web 开发前先要搞懂什么叫静态网页、动态网页，什么叫服务器、客户端，什么叫 TCP/IP，什么叫 HTML/CSS，什么叫做动态语言等等；而要进行 J2EE 的 WEB 开发，新概念的爆炸简直是一场急风暴雨，扑面而来，譬如 JSP、JavaBeans、Struts、Hibernate、Spring、EJB、设计模式、MVC 等等，令人目不暇接，说实话这写概念到今天我也只是略懂皮毛，因此寻求一款好用的 IDE 协助开发成了当务之急。等到真正熟悉了整个开发流程和原理，再尝试着转回 CLI，寻求一种 full-control 的感觉。</p>
<p>想进行 Java Web 开发，第一个前提是有 Java，第二个前提是有 Web。<a href="http://www.gentoo.org/doc/en/java.xml">Gentoo 上的 Java</a> 还是好搞定的，一条命令几乎什么都设置好了，也不用像 Windows 那样去设置 <code>PATH</code> 环境变量。但是令人比较混乱的是 Java 的选择问题。Gentoo上的 jdk 至少有 5、6 种，什么 IBM 的、Apple 的、Sun 的等等，还有什么 <a href="http://openjdk.java.net/">OpenJDK</a>——貌似是 Sun-JDK 的开源版本， <a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBcQFjAA&amp;url=http%3A%2F%2Ficedtea.classpath.org%2F&amp;ei=tloKTPyaGc-ecfXr9LQO&amp;usg=AFQjCNGwGYlhgHjqn2hFvkFV4NV1NB9mNg">icedtea</a>（A harness to build the OpenJDK using Free Software build tools and dependencies），<a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBcQFjAA&amp;url=http%3A%2F%2Fwww.gnu.org%2Fsoftware%2Fclasspath%2F&amp;ei=HlsKTKanHNDQcfXJoJ0O&amp;usg=AFQjCNGDVUlSoBmVNBb48rpoLieAPlG9-Q">GNU Classpath</a>。默认安装的是 icedtea6-bin。反正搞到最后，命令行下敲一个 <code>java</code> 和 <code>javac</code> ，能用了，因此关于 OpenJDK 和 Sun-JDK 之间到底是什么关系，我也就没有再深究了。</p>
<p>Java 好了，接下来就是开发环境的选择了。记得去年的 Java 程序设计，我单用 Emacs 就搞定了 1500 行的 Java 校车查询系统，因此 Emacs + JDEE + ECB 应该也能胜任。但是今年的 J2EE Project 更侧重 Web 和 Database，这方面我不熟，因此就想暂时偷偷懒，找个 IDE 暂时搪塞一下。</p>
<p>关于 Java 开发的 IDE，除了已经“廉颇老矣”的 JBuilder，恐怕只剩下 <a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CB0QFjAA&amp;url=http%3A%2F%2Fwww.eclipse.org%2F&amp;ei=hVUKTOOjDYqPcZLGlIYO&amp;usg=AFQjCNFLDQCqoSDxwm1phYDfj2aJnL2dPA">Eclipse</a> 和 <a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBcQFjAA&amp;url=http%3A%2F%2Fwww.netbeans.org%2F&amp;ei=g1YKTOykK8rQcYbJkaMO&amp;usg=AFQjCNGXEZrzV0QrmVNuy79PoebH7M4D7w">Netbeans</a>了。早先安装过这两个大名鼎鼎的 IDE，觉得还是 Eclipse 更美观一点，因此这次也就首选 Eclipse 进行安装。安装过程倒也顺利，只是众所周知，Eclipse 和 Emacs 一样是一个平台，需要插件的协助才可以“建功立业”。习惯了 Linux 自动化的包管理系统后， 自然也希望 Eclipse 的插件管理也有类似的功能：自动下载，自动配置，自动判断依赖。 可是我几乎在网上找了一天，也没有找到合适的网址，作为 Eclipse 插件的“源”，自然是及其郁闷，索性放弃，去做别的事情。</p>
<p>后来一次做嵌入式的实验，闲来无聊，就下了 Windows 版的 Eclipse 安装在实验室的电脑上，然后在这个版本上的 Eclipse 找到了比较合适的更新网址（泪流满面，真不容易）：</p>
<ul>
<li><a href="http://download.eclipse.org/technology/epp/packages/galileo">EPP Packages Repository</a></li>
<li><a href="http://download.eclipse.org/releases/galileo">Eclipse Galileo</a> <a href="http://download.eclipse.org/tools/mylyn/update/e3.4/">Mylyn for Eclipse 3.4 and 3.5</a></li>
<li><a href="http://download.eclipse.org/eclipse/updates/3.5">The Eclipse Project Updates</a></li>
<li><a href="http://download.eclipse.org/webtools/updates">The Eclipse Web Tools Platform (WTP) Project update site</a></li>
</ul>
<p>这样总算能安装一些常规插件了（什么？你问我怎么安装？呃，这个问题还是先问问百度先生和 Google 小姐吧。）我安装了 <a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBQQFjAA&amp;url=http%3A%2F%2Fwww.eclipse.org%2Fcdt%2F&amp;ei=S1gKTITqNcivcL3d3f4N&amp;usg=AFQjCNFln_a-7TSsfNdGYIwjxguAg2V4Fg">Eclipse CDT</a>、<a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBQQFjAA&amp;url=http%3A%2F%2Fwww.eclipse.org%2Fwebtools%2F&amp;ei=h1gKTLSZLY-xcYyRpZgO&amp;usg=AFQjCNGcPYsPhbQ2FlTLIZlnBpAXGzWl5g">Eclipse WTP</a>，还有一些看似像但不知道能不能用的上的插件。</p>
<p>老师用的是 <a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBcQFjAA&amp;url=http%3A%2F%2Fwww.myeclipseide.com%2F&amp;ei=5VgKTIbfDI_Zcayu0YUO&amp;usg=AFQjCNGNW7UCiirRivRDHBgrXiDSEfj4lw">MyEclipse</a>， 对于 MyEclipse，我的理解就是一个插件的集合，针对 Java Web 开发做了整合优化。我也想图省事，就去校内的神网搜索，只有 MyEclipse 7.0 for linux 版本，装之……无法启动……直接 <code>sudo rm -rf /where/is/myeclipse/</code> ……我又想到最新出的 MyEclipse 8.5 版会不会好一点，结果是，MyEclipse 的官网说”你们中国盗版太严重了“， 因此封了所有来自中国的 ip，所以也就无法访问了，彻底无语了……</p>
<p>Eclipse 安装完毕，简单 Hello World 也能跑。好啦，开始配置 Web 和 Database。</p>
<p>涉及到的 Web 服务器主要有两个，<a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBwQFjAA&amp;url=http%3A%2F%2Fwww.apache.org%2F&amp;ei=c1wKTNL6ItmvcL212Y8O&amp;usg=AFQjCNE2weBEBTKu2eVr4jXdEGUZivQtTQ">Apache</a> 和 <a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CB4QFjAA&amp;url=http%3A%2F%2Ftomcat.apache.org%2F&amp;ei=nlwKTK-hC9iPcKPYwYAO&amp;usg=AFQjCNGNDNjXeRgE3wbwAp7qKd_whu88YQ">Tomcat</a>。这两者是什么关系，有没有相互的依赖性，又是一头雾水。貌似 Apache 主要解析静态网页，配上 PHP 模块可以解析动态 PHP网页，而 Tomcat 则主要解析 <a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBwQFjAA&amp;url=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2FJava_Servlet&amp;ei=HF0KTNfgJsqXcfj-0LsO&amp;usg=AFQjCNHOSi8bQEf7eD62M3QTCaBq-T4P4w">Servlet</a> 和 <a href="http://en.wikipedia.org/wiki/JavaServer_Pages">JSP</a>。具体依赖性我就不知道了。不过 Tomcat 是 Apache 的子项目倒是真的。Apache 的配置比较简单，参见 <a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBgQFjAA&amp;url=http%3A%2F%2Fen.gentoo-wiki.com%2Fwiki%2FApache2&amp;ei=iF0KTKjxAtCHcabhhLYO&amp;usg=AFQjCNEvcwo_5yfOQHE-9bAN0l5j3xta6w">Gentoo Wiki</a>，而 Tomcat 的配置又出了很大的问题。Gentoo Docs 上的 <a href="http://www.gentoo.org/proj/en/java/tomcat-guide.xml">Tomcat Guide</a> 有这么一段：</p>
<p>Standard Tomcat Layout</p>
<p>The root directory of a typical Tomcat binary distribution is laid out as illustrated in the following listing.</p>
<pre class="example"><code>/opt/tomcat-x.y/bin
/opt/tomcat-x.y/common
/opt/tomcat-x.y/conf
/opt/tomcat-x.y/logs
/opt/tomcat-x.y/server
/opt/tomcat-x.y/shared
/opt/tomcat-x.y/temp
/opt/tomcat-x.y/webapps
/opt/tomcat-x.y/work
</code></pre>
<p>Gentoo Tomcat Layout</p>
<p>To comply with FHS and Gentoo standards, Tomcat has been dissected and installed into the following locations.</p>
<pre class="example"><code>/usr/share/tomcat-x.y/bin
/usr/share/tomcat-x.y/common
/etc/tomcat-x.y
/var/log/tomcat-x.y/logs
/usr/share/tomcat-x.y/server
/var/lib/tomcat-x.y/shared
/var/tmp/tomcat-x.y
/var/lib/tomcat-x.y/webapps
/var/run/tomcat-x.y
</code></pre>
<p>这里面又涉及到一个 <a href="http://www.google.com.hk/url?sa=t&amp;source=web&amp;cd=2&amp;ved=0CBwQFjAB&amp;url=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2FFilesystem_Hierarchy_Standard&amp;ei=G2AKTNTeMsjQcZ-I2K4O&amp;usg=AFQjCNH0ufo6vIMG9eKELOlOM-a7HdibBQ">FHS(Filesystem Hirarchy Standard)</a> 的概念。简单的说，Tomcat 的 “正常”安装（在 Windows 平台上）呢，其所有的安装文件都应该在同一个目录下，但是 Linux（Gentoo）呢，则有自己的标准（就是 FHS），比如临时文件放 /tmp 和 /var，配置文件放 /etc 里，因此 Gentoo 就把 Tomcat 这个包拆了放到不同的目录里面，这样和自己的哲学比较统一，也确实比较便于管理，比如 Gentoo 环境下开机自动启动 Apache 和 Tomcat，只需要：</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="fu">sudo</span> rc-update add apache2 default
$ <span class="fu">sudo</span> rc-update add tomcat-6 default</code></pre></div>
<p>事实上重启后 Apache 和tomcat服务都已经启动，在浏览器地址栏输入 <a href="http://localhost/" class="uri">http://localhost/</a> 就会出现 Apache 的经典宣传口号“It works!“，但是输入 <a href="http://localhost:8080" class="uri">http://localhost:8080</a> 浏览器却显示一片空白，再次输入 <a href="http://localhost:8080/manager/html" class="uri">http://localhost:8080/manager/html</a> 时，跳出一个对话框， 询问 manager 的用户名和密码（这个密码需要自己<a href="http://tomcat.apache.org/tomcat-5.5-doc/manager-howto.html">配置</a>），正确配置了用户名和密码后重启 Tomcat 输入 manager/html，是出现了一个界面，但是功能残缺不全，很多超链接指向 HTML 但是实际目录中的文件确实 XML 格式。而且 Eclipse 的 Tomcat 插件要求 Tomcat 的安装必须在同一个目录下。我曾想着在 <code>/opt/tomcat</code> 做几个 <code>ln -s</code> 的软链接，但终究失败。搜索良久，我找到了<a href="http://pygospa.wordpress.com/2010/02/07/tomcat-with-gentoo/">这片文章</a>，里面描述的的窘境和我的情况一样。</p>
<p>没办法了，只能去官网下了 tarball，自己解压手动安装到 <code>/opt/tomcat</code> 目录中。然后每次开机手动启动 Tomcat，这下 Eclipse 的插件配置也好了……此时的我泪流满面……然后呢， 参考 ibm developerworks 上的<a href="http://www.ibm.com/developerworks/opensource/library/os-eclipse-tomcat/index.html">文章</a>，兴冲冲地在 Eclipse 中建立 Dynamic Web Project，写了一个 “hello, jsp”，然后启动 Tomcat，又出现了 Tomcat 无法启动的问题：</p>
<p><a href="/static/image/2010/eclipse_tomcat.png"><img src="/static/image/2010/eclipse_tomcat.png" /></a></p>
<p>然后我就无语掉了……继续泪流满面……</p>
<p>看来，偷懒的方法不成，还是得回到原始生活时代，开始上网搜一些 Emacs 开发 J2EE 的东西。用脚趾想也能想得到，用 Emacs 的少，用 Emacs 开发 Java 的少，用 Emacs 开发 J2EE 的就更少了，因此资料也是出奇的少，相关插件也不完善。拿最简单的 JSP 来说，我觉得怎么也应该有一个比较顺手的 jsp-mode 的插件吧，可是结果<a href="http://www.emacswiki.org/emacs/JspMode">令人失望</a>……分别尝试了 mmm-mode，multi-mode，jsp-mode，nxhtml-mode，可是无一如意，要么是 bug 无法启动， 要么是用了一段时间后就 bug，无法正确缩进（nxhtml）等等，于是这条路也走不通了。</p>
<p>于是就剩下最后一个备胎了，NetBeans。老实说我不太喜欢 NetBeans（我觉得界面和字体照 Eclipse 差远了，Java Swing 做出来的东西貌似没几个特别好看的）。=emerge= 一下， 提示有几十个包 300M 的东西要下载，好大的家伙，忍了。然后呢，开始的几十个包安装还是很顺利的。只是到了 jnlp 这个包，出现了以前没有遇到的问题：</p>
<pre class="example"><code>&gt;&gt;&gt; Emerging (1 of 3) dev-java/jnlp-bin-1.2-r1

!!! dev-java/jnlp-bin-1.2-r1 has fetch restriction turned on. This probably
!!! means that this ebuild&#39;s files must be downloaded manually. See the
!!! comments in the ebuild for more information.

 * Please download javaws-1_2-dev.zip and place it in /usr/portage/distfiles
 * https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=7026-jaws_dev_pack-1.2-oth-JPR@CDS-CDS_Developer
 * Fetch failed for &#39;dev-java/jnlp-bin-1.2-r1&#39;, Log file:
 *  &#39;/var/tmp/portage/dev-java/jnlp-bin-1.2-r1/temp/build.log&#39;

&gt;&gt;&gt; Failed to emerge dev-java/jnlp-bin-1.2-r1, Log file:

&gt;&gt;&gt; &#39;/var/tmp/portage/dev-java/jnlp-bin-1.2-r1/temp/build.log&#39;

 * Messages for package dev-java/jnlp-bin-1.2-r1:

 * Fetch failed for &#39;dev-java/jnlp-bin-1.2-r1&#39;, Log file:
 *  &#39;/var/tmp/portage/dev-java/jnlp-bin-1.2-r1/temp/build.log&#39;
</code></pre>
<p>Google 了一下，大概意思是由于 license 问题，需要到 Sun 的网站上去下载，需要“同意某个许可”，然后给出一个下载链接，就是上面的 log 中给的那个长串，可是令我极其郁闷的是这个链接怎么也打不开，用 <code>wget -c</code> 也下载不下来，最后我怀疑是 <a href="http://en.wikipedia.org/wiki/Golden_Shield_Project">GFW</a> 的问题。 shit，真是不能忍了，本来不想折腾的。把人逼到绝境。于是我就想起了前不久看到的一个 <a href="http://code.google.com/p/scholarzhang/">west-chamber</a> 计划，好在 linuxsir 上面还有相关的帖子<a href="http://www.linuxsir.org/bbs/thread364811.html">教程</a>，加了 gentoo-china 的 overlay，可是用 eix 搜索却怎么也搜不到这个 ebuild，奇了怪了，又搜寻了好久，原来是 Layman 升级到 1.3 后 overlay portage 的位置改变了，找到了 sabayon forums 上的 <a href="http://forum.sabayon.org/viewtopic.php?f=54&amp;t=19962">帖子</a>，解决了 Layman 的问题，这写总算可以 emerge west-chamber 了。</p>
<p>编译的过程出了问题，原来是内核配置的问题，又照着 linuxsir 上的帖子改了 <code>.config</code> 文件，重新编译了内核，现在还没有重启，不知道能否成功编译 west-chamber，翻越 GFW。</p>
<p>“待月西厢下，迎风户半开，隔墙花影动，疑是玉人来。”</p>

    <div class="ui divider"></div>
    <div class="ui small one item menu">
      <a class="item" id="show-disqus-comments" onclick="show_disqus_comments()" title="Fuck GFW, disqus.com has been blocked in China.">Show Disqus Comments</a>
    </div>
    <div id="disqus_thread"></div>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </section>
  <aside class="four wide column">
    <div class="ui small header">
      License
    </div>
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="cc-license" src="/static/image/cc_byncsa.flat.guokr.svg" /></a>
    <div class="ui small header">
      Committed
    </div>
    <date>2010-06-05</date>
    <div class="ui small header">
      Updated
    </div>
    <date>2017-04-29</date>
    <div class="ui small header">
      Category
    </div>
    <div class="ui list">
      <div class="item">
        <a href="/categories#Java">
          <div class="ui label">
            Java<sup>1</sup>
          </div>
        </a>
      </div>
    </div>
    <div class="ui small header">
      Tags
    </div>
    <div class="ui list">
      <div class="item">
        <a href="/tags#Java">
          <div class="ui label">
            Java<sup>2</sup>
          </div>
        </a>
      </div>
      <div class="item">
        <a href="/tags#Tomcat">
          <div class="ui label">
            Tomcat<sup>1</sup>
          </div>
        </a>
      </div>
      <div class="item">
        <a href="/tags#Apache">
          <div class="ui label">
            Apache<sup>2</sup>
          </div>
        </a>
      </div>
      <div class="item">
        <a href="/tags#Layman">
          <div class="ui label">
            Layman<sup>1</sup>
          </div>
        </a>
      </div>
      <div class="item">
        <a href="/tags#Eclipse">
          <div class="ui label">
            Eclipse<sup>2</sup>
          </div>
        </a>
      </div>
      <div class="item">
        <a href="/tags#Outdated">
          <div class="ui label">
            Outdated<sup>27</sup>
          </div>
        </a>
      </div>
    </div>
    <div class="ui small header">
      Meta
    </div>
    <p>
      Imported from <a href="http://cnlox.is-programmer.com/posts/18715.html">is-programmer</a>.
    </p>
    <div class="ui small header">
      Links
    </div>
    <div class="ui small two item menu">
      <a class="item" title="逐渐走上正轨" href="/posts/2010-05-31-on-my-way/">Prev</a><a class="item" title="所谓焦头烂额" href="/posts/2010-06-08-busy-life/">Next</a>
    </div>
  </aside>
</div>
    </article>
  </div>
</div>
    </div>
    <div id="footer">
      <footer class="ui inverted vertical center aligned footer segment">
        <div class="ui container">
          <p>
            Copyright © 2009–2017 by Xiao Hanyu — Powered by Emacs, Git, Pandoc, Ruby and Nanoc.
          </p>
        </div>
      </footer>
      <script src="/static/dist/semantic-ui/semantic.min.js"></script>
      <script src="/static/javascript/ga.js"></script>
      <script src="/static/javascript/default.js"></script>
    </div>
  </body>
</html>